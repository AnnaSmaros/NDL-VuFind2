<!-- START of: finna - feedback/form.phtml -->

<? if (!$this->translationEmpty('feedback_instructions')): ?>
  <p><?=$this->transEsc("feedback_instructions"); ?></p>
<? endif; ?>

<div class="row">
  <div class="col-sm-6">
    <?=$this->flashmessages()?>
    <br>
    <form class="form feedback-form" name="finna_feedback" method="post" action="<?=$this->url('feedback-email')?>">
      <input type="hidden" id="feedbackSuccess" value="<?=$this->transEsc("Thank you for your feedback")?>"/>
      <input type="hidden" id="feedbackFailure" value="<?=$this->transEsc("An error has occurred")?>"/>
      <input type="hidden" id="feedbackMissing" value="<?=$this->transEsc("Fill mandatory fields")?>"/>
      <div class="row">
        <div class="form-group col-xs-12">
          <label for="category" class="control-label" ><?=$this->transEsc("Subject")?>:</label>
            <select name="category" id="category" class="form-control">
              <option value="feedback_category_general"<?= !empty($this->category) && $category == 'feedback_category_general' ? ' selected="selected"' : '' ?>><?=$this->transEsc("feedback_category_general");?></option>
              <option value="feedback_category_metadata"<?= !empty($this->category) && $category == 'feedback_category_metadata' ? ' selected="selected"' : '' ?>><?=$this->transEsc("feedback_category_metadata");?></option>
              <option value="feedback_category_services"<?= !empty($this->category) && $category == 'feedback_category_services' ? ' selected="selected"' : '' ?>><?=$this->transEsc("feedback_category_services");?></option>
              <option value="feedback_category_usability"<?= !empty($this->category) && $category == 'feedback_category_usability' ? ' selected="selected"' : '' ?>><?=$this->transEsc("feedback_category_usability");?></option>
              <option value="feedback_category_technical"<?= !empty($this->category) && $category == 'feedback_category_technical' ? ' selected="selected"' : '' ?>><?=$this->transEsc("feedback_category_technical");?></option>
            </select>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-xs-12">
          <label for="comments" class="control-label">* <?=$this->transEsc("feedback_message")?>:</label>
          <textarea cols="50" rows="8" id="comments" name="comments" class="form-control" required aria-required="true"><?= !empty($this->comments) ? $this->escapeHtmlAttr($this->comments) : '' ?></textarea>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-xs-12">
          <label class="control-label" for="url"><?=$this->transEsc("feedback_url");?>:</label>
          <input type="url" id="url" name="url" class="form-control" size="50" placeholder="http://..."<?= !empty($this->url) ? (' value="' . $this->escapeHtmlAttr($this->url) . '"') : '' ?> />
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 feedback-info">
          <p><?=$this->transEsc("feedback_info");?></p>
        </div>
      </div>
      <div class="clear-col"></div>
      <div class="row">
        <div class="form-group col-xs-12">
          <label class="control-label" for="name"><?=$this->transEsc("feedback_name")?>:</label>
          <input type="text" id="name" name="name" class="form-control" size="50"<?= !empty($this->name) ? (' value="' . $this->escapeHtmlAttr($this->name) . '"') : '' ?> />
        </div>
      </div>
      <div class="row">
        <div class="form-group col-xs-12">
          <label class="control-label" for="email"><?=$this->transEsc("feedback_email")?>:</label>
            <input type="email" id="email" name="email" class="form-control" size="50"<?= !empty($this->email) ? (' value="' . $this->escapeHtmlAttr($this->email) . '"') : '' ?> />
        </div>
      </div>
      <div class="row">
        <div class="form-group col-xs-12">
          <label class="control-label captcha" for="captcha">* <?=$this->transEsc("feedback_captcha_question");?>:</label>
          <input type="text" id="captcha" name="captcha" class="form-control" required aria-required="true" size="4"/>
        </div>
      </div>
      <div class="clear-col"></div>
      <div class="row">
        <div class="form-group col-xs-12">
            <input type="submit" class="btn btn-primary" value="<?=$this->transEsc("Send")?>" />
        </div>
      </div>
    </form>
  </div>
</div>
<!-- END of: finna - feedback/form.phtml -->
